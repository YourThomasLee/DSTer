## 名词解释

*   Winfo: 广告投放中的概念，广告主在进行广告投放时，在每个plan的unit下面指定的搜索词

*   idea：广告主进行广告投放时给出的标题、图片、视频、落地页url等物料

*   intent：广告主进行广告投放时，意向人群或者位置（LBS）

    >   LBS: location based service

*   src: 广告位，即广告页面的一个特定区域

*   cmatch：标识广告位流量，用于业务端内部统计广告收入，与src一对一

*   charge_name: 计费名

*   channel_page: 从asp接入广告的各个产品页名称

*   厂商流量：厂商应用商店中对广告的请求和访问

    >   已接入厂商：huawei、oppo、vivo、小米
    >
    >   厂商流量由adx分发到afd

## 用户ID类型

<img src="http://bj.bcebos.com/ibox-thumbnail98/5af0c94a33f0d618613c015ab07d3b18?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-02T09%3A15%3A03Z%2F1800%2F%2F52a1126ed52ad61440deffb14e4c89f02ed7fa9bae2f7dd085e104fdc698f0bf">

## 支撑系统

*   爱迪生实验平台：策略效果验证
*   漏斗：策略分析
*   dashboard：实时收入报表
*   酷贝：服务稳定性

## 频控信息

*   涉及模块：`ReqProcessModule`

*   频控层级
    *   afd兜底频控
        *   外部dsp同意的idea出现一次以上，过滤
        *   明投统一ideadid出现4次以上，过滤
        *   针对统一该用户，5分钟内一个dsp竞价胜出过，之后每次竞价直接过滤这个dsp的广告
    *   shown info频控
        *   解决曝光信息频控实时性差的问题
        *   afd存储，来源于afd，最近10次pv，保留8h
        *   最近150分钟内返回过的物料，直接过滤
    *   Usercenter
        *   根据真实曝光信息进行频控，实时性差
*   频控维度
    *   用户时间间隔：user
    *   搜索词时间间隔：query
    *   标题时间间隔：title_sign
    *   品牌时间间隔：brand_sign
    *   关键词时间间隔：winfo
    *   创意时间间隔：idea
    *   交易时间间隔：trade
    *   视频时间间隔：video_sign
    *   意图时间间隔：cs_id

## 日志信息

*   asp日志
    *   在凤巢，统计广告主show（不包括暗投）
    *   在原生tianlu，统计曝光前的候选广告集合
*   afd日志：用于原生爱迪生实时流统计pv、show
*   als曝光日志：用于统计原生客户报表曝光量eshow
*   fengsui日志：记录模块耗时、交互耗时等，用于构建监控体系和数据分析体系

## 客户报表

*   show统计
    *   原生：以als日志为准，统计曝光的广告数eshow
    *   凤巢：以asp日志为准，统计PK生出的广告数
*   内部报表
    *   原生：afd日志统计pv + als日志统计eshow
    *   凤巢：总show

## RTA和RTB

*   **名词解释**
    *   **rta**：realtime api，获取预投放广告之后，通过real-time-api实时询问广告主是否决定投放
        * 作用：避免广告主缺乏干预而导致投放成本超标 + 达到精准投放的目的
        * 实现方式：使用当次pv特征请求广告主，由广告主决定广告是否参与竞价并对用户打质量分 (优化预估相关属性标签的准确性)
    *   **rtb**：realtime bidding
    
*   **两者区别**
    *   rta：实时询问广告主，要不要参与竞价 => yes or no
    *   rtb: 广告主给出cpm竞价

*   **RTA解决的问题**

    *   精准人群定向：广告主判定该次请求的用户价值
    *   流量实时筛选：广告主固然可以定向进行人群投放，但是广告主有时候收集新数据想应用到广告投放，在DMP更新定向人群的操作成本高 => rta无需传数据给平台(保障数据私密) + 无需人工调整DMP定向人群

*   **RTA白名单**

    *   业务端白名单：业务端userid维度词表，广告bstype=7，代表rta广告，才会加载到rtabs中
    *   检索端白名单：检索端维护rta用户交互信息词表，记录userid对应的url等，未命中词表广告会被过滤
    
*   **RTA流程图**

    *   feedproxy将本次PV信息传至广告主API，广告主识别是否参与本次竞价，过滤不需要的广告

    <img src="http://bj.bcebos.com/ibox-thumbnail98/3e9e6b85b869fcce31782d34e200ea07?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-02T06%3A36%3A16Z%2F1800%2F%2Fa30dd3b0d86b3930a2436a6a0fcd10d3aa76598cf913ebff40b1d4711fc65679">

    <img src="http://bj.bcebos.com/ibox-thumbnail98/fb06f2f1e915b51052eb8b70e0d0bd7a?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-02T06%3A43%3A46Z%2F1800%2F%2F63f7dc397a3c4548de6c14798b419d26ef7b4afdf74ea2fd2d3168bca6383bcb" style="zoom:50%;" >

    *   **遇到问题**：RTA拒绝率高，而整体处于靠后的过滤阶段，所以之前了很多无效广告，则整体召回率低

    *   **改进方案**：RTA过滤前置到bs单元过滤阶段

    *   **核心目标**：as获取rta预取结果，proxy用于过滤从adplus拿到的rta客户，以及发送adplus是否拉取rta预算

        >   feedas
        >
        >   *   新增与rtaserver交互发送异步写请求，置于UnionidProcessModule，获取unionid之后
        >   *   新增FeedRtaReadModule, 发送只读请求

    <img src="http://bj.bcebos.com/ibox-thumbnail98/469ab3366a8cab1302d3d7bc65962b6c?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-02T06%3A45%3A03Z%2F1800%2F%2Ff5fb40017298ffa11358439272a99c34f13883bab01d4a6eed5a52d7f57c6ba7" style="zoom:50%;" >
    
*   **RTA架构变迁**

    *   Period1：从feedproxy独立出来，单独进行物料存储（预算控制在strategy中）

        <img src="https://gitee.com/WIN0624/document/raw/master/img/image-20210806153924344.png" alt="image-20210806153924344" style="zoom:50%;" />

    *   Period2：因为跳过feedproxy用户体验策略，而且没有和proxy广告粗排pk，占据精排名额 => 内部流量的rtabs下移回feedproxy

        ![image-20210806153944949](https://gitee.com/WIN0624/document/raw/master/img/image-20210806153944949.png)

## 冷启动

>   Ref：[新单元冷启动思考](http://wiki.baidu.com/pages/viewpage.action?pageId=1260103606)

*   **冷启动的对象**：客户新建单元

    *   类型1：一般广告，2000次曝光或20次点击
    *   类型2：潜在优质广告，5个转化
    *   类型3：优质广告，20个转化

*   **冷启动面对的问题**：优质新建单元低效分发

    *   触发方面：缺少行为数据相关的触发
    *   排序模型：点击率和转化率预估偏差大
    *   热门bias

*   **如何定义冷启动成功**

    *   平台角度：有效进入触发召回 + 各模型预估准确
    *   客户角度：转化数

*   **怎么做冷启动**

    *   **关键**：选准新单元，高效扶持

        >   扶持流量有限，尽量让流量预算倾斜至最急需必要的单元，保证冷启动、触发、模型的衔接顺畅

    *   **如何选**

        *   根据扶持流量和扶持程度，计算所能扶持的最大新单元数量
        *   根据平台的消费情况，计算不同行业的流量占比

    *   **如何扶持**

        *   触发：及时构建索引
        *   机制：高效进退场机制
        *   模型：新单元对应样本及时进入训练，保证模型更新的时效性

*   **案例**
    *   **step1**：广告主刚创建计划之后，系统**分配冷启动流量**(行业的小部分流量)，系统根据这部分流量中计划的展现、点击和转化，**收集转化人群标签**
    *   **step2**：开放最大流量进行探索，搜集更多转化人群标签，完成建模

## 计费串

>   Ref: [计费串](http://wiki.baidu.com/pages/viewpage.action?pageId=1367605181)

*   什么是计费串？
*   **计费方式**
    *   串行计费：落地页包含在计费串中，计费成功之后再跳转 => 先计费后浏览
    *   并行计费：无落地页，相应点击行为发生时计费

*   **feedas中计费串组装**
    *   格式：计费服务域名 + i域 + . + j域 + . + k域
    
    *   i域
    *   j域
    *   k域

## 助攻模型

>   Ref: [百青藤行业助攻模型一期](http://wiki.baidu.com/pages/viewpage.action?pageId=1579120265)

*   **背景**

    解决客户在百青藤流量上由于转化样本少带来的建模难、起量慢、投放效果和全网差异大的问题，通过利用**客户回传全网转化数据**，优化投放效果

*   **助攻模型**

    对客户全网转化数据单独建模，深入了解用户意向，从而竞争之前因为转化少而未竞得的媒体流量

    >   检索端可以通过观星获取助攻模型
