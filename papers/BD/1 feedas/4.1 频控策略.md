>   Ref:
>
>   *   [过滤策略插件化](http://wiki.baidu.com/pages/viewpage.action?pageId=978203439)
>   *   [原生广告频控策略](tu_expand_cmatch_expand_list)

## 频控的作用

*   增加目标受众：在广告主有限预算下，让更多人看到该广告，防止预算被同一批人消耗
*   提高整体点击率和转化率，重复出现可能更容易得到用户忽视
*   提升用户体验

## AFD兜底频控

*   **解决问题**：检索端频控失效，对明投和外部dsp进行频控
*   **具体策略**
    *   **基于ideaid**：记录AFD最近10次pv (8小时内)的物料返回，过滤
        *   明投同一ideaid出现4次及以上
        *   外部dsp同一ideaid出现1次及以上
    *   **基于用户维度**：只针对外部dsp，对同一用户(cuid、baiduid)，在5分钟内一个dsp只能竞价胜出一次，之后每次竞价都过滤

## 检索端：shown_info频控

>   满足条件则不再出现在返回队列

*   **解决问题**：广告频控，实时性优于upin

*   **具体策略**

    *   **过滤原则**
        *   出现在最近10次有明投物料返回的pv(8小时)
        *   150分钟内showninfo返回过的物料
    *   **query级别**：将以下query加入过滤名单
        *   出现次数多
        *   次数多&间隔短

    *   **ad级别**
        *   次数多: fdmcid (feedbs返回的广告物料标签)
        *   次数多&间隔短：winfo、标题ts (title sign)、品牌bs、视频vs、csid
        *   次数多 or 次数多&间隔短：广告主uid、创意ideaid
        *   次数多&属于管控范围：二级行业trade2

## 检索端：usercenter频控

*   **解决问题**：根据真实曝光信息进行频控

*   **具体策略**

    >   从asp日志中获取

    记录用户最近24小时曝光的物料信息，根据userid、winfoid、ideaid、planid、brand、title、trade，通过算法模型，判断是否过滤

*   **新增频控维度**

    *   match_type: 触发方式（query、词包、兴趣、商圈、场所...）

        >   <img src="http://bj.bcebos.com/ibox-thumbnail98/ba8620c8f5a11a481a146679bfa945f4?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-03T03%3A57%3A44Z%2F1800%2F%2F6f4b125dbf630e62521207d6562e10804d14987d3164e1051a13cff3d33e7f46" style="zoom:50%;" >  <img src="http://bj.bcebos.com/ibox-thumbnail98/37ce7ab9305040d88900383a6f86fcb9?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-03T03%3A58%3A12Z%2F1800%2F%2Fd77c8e54b7cd23e6abbe459748b0f2557b86d7bcb0c3b9634a95acddd05a8dde" style="zoom:50%;" >
        >
        >   LBS: LocationBasedService

    *   mining_type: 离线挖掘广告的触发类型

## 频控依据

*   profile：用户过去72小时的点击习惯
*   session：最近8小时的搜索信息
*   gs(global session)：融合pc、wise和各个产品线的session数据

## 其余控制

*   意图中台：茧房数据，近7天最多25条曝光二级行业，若占一般，则该行业之后在feedbs进行屏蔽

## Feedas频控

*   shown_info：根据最近10次pv的数据进行控制 => 过滤名单
*   usercenter：根据用户24小时实时曝光数据进行控制 => 过滤名单
*   intentservice：获取广告点击播放情况 => 白名单