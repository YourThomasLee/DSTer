## 概述

*   作用：输出query词、意图词和人群包等，用于bs触发广告

## 插件

*   common类：提取检索相关的信息，如original_qurty、baiduid、cuid、charge_name、device_id、title等

*   kaiwu类

    ...

## 架构

<img src="http://bj.bcebos.com/ibox-thumbnail98/b7d07f4f1dabbf498f9e635019c46ce9?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-07-30T12%3A20%3A20Z%2F1800%2F%2F210632799dd5cf1d892a94f11934a4aa7b4e0d5228c8395d99cac8fceb117ead">

*   依赖xbox数据
*   **接收的信息**
    *   common维度：original_query、cuid、baiduid等
    *   upin维度：曝光信息
    *   kaiwu维度：人群包、长期兴趣
    *   shown_info的重复集合
    *   其余来自xbox的信息
*   **输出query_list**，表示挖掘的query
*   人群包是在`mining`和`strategy`某个策略阶段中返回的

## query_strategy策略

<img src="http://bj.bcebos.com/ibox-thumbnail98/2e8a7074bef3e9bde65e28fd8871dea0?authorization=bce-auth-v1%2Ffbe74140929444858491fbf2b6bc0935%2F2021-08-04T12%3A13%3A05Z%2F1800%2F%2F9140c2ab1ce664d0cc45eb119656f89ddfd7dcaeb95cd6310f8bb6c0cccca548">

*   预处理
    *   q值预估
    *   xbox查询每个query的cpm，针对每个query的cpm，按阈值进行阶段
*   
*   相似性去重：防止放入太多相似query，导致之后召回广告很多重复
